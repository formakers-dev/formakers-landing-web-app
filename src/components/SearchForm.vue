<template>
  <div class="search-wrapper">
    <b-button
        rounded
        class="initial-search"
        @click="isExpanded = !isExpanded"
        v-show="!isExpanded">
      ğŸ” ì›í•˜ëŠ” ê²Œì´ë¨¸ íƒ€ì…ì„ ì„ íƒí•˜ì„¸ìš”
    </b-button>

    <form
        class="box expanded-search"
        v-show="isExpanded"
    >
      <div
          class="block"
          v-for="(field, index) in fields"
          :key="index"
      >
        <span>{{ field.name }}</span>
        <b-checkbox
            type="is-info"
            v-for="(option, index) in field.options"
            v-model="selectedOptions[field.key]"
            :key="index"
            :native-value="option"
        >
          <span>{{ option }}</span>
        </b-checkbox>
      </div>

      <p class="control">
        <b-button
            class="button is-dark"
            type="submit"
            @click="search"
            expanded
        >
          ì°¾ ê¸°
        </b-button>
      </p>
    </form>
  </div>
</template>

<script>
export default {
  name: 'SearchForm',
  data() {
    return {
      isExpanded: false,
      selectedOptions: {
        gender: [],
        ageGroup: [],
        playStyle: [],
        payStyle: [],
      },
      fields: [
        { name: 'ì„±ë³„', key: 'gender', options: ['ë¬´ê´€', 'ë‚¨ì', 'ì—¬ì'] },
        { name: 'ì—°ë ¹ëŒ€', key: 'ageGroup', options: ['ë¬´ê´€', '10ëŒ€', '20ëŒ€', '30ëŒ€', '40ëŒ€', '50ëŒ€ ì´ìƒ'] },
        { name: 'ê²Œì„ í”Œë ˆì´ ë°©ì‹', key: 'playStyle', options: ['ë¬´ê´€', 'PC', 'ëª¨ë°”ì¼', 'ì½˜ì†”', 'ì•¡ì…˜', 'ì–´ë“œë²¤ì²˜', 'ì•„ì¼€ì´ë“œ', 'ë³´ë“œ', 'ì¹´ë“œ', 'ì¹´ì§€ë…¸', 'ìºì£¼ì–¼ ê²Œì„', 'êµìœ¡', 'ìŒì•…', 'í¼ì¦', 'ìë™ì°¨ ê²½ì£¼', 'ë¡¤í”Œë ˆì‰', 'ì‹œë®¬ë ˆì´ì…˜', 'ìŠ¤í¬ì¸ ', 'ì „ëµ', 'í€´ì¦ˆ', 'ë‹¨ì–´']},
        { name: 'ê³¼ê¸ˆ ì—¬ë¶€', key: 'payStyle', options: ['ë¬´ê´€', 'ê³¼ê¸ˆ', 'ë¬´ê³¼ê¸ˆ']},
      ],
    }
  },
  methods: {
    search() {
      console.log(this.selectedOptions);
    }
  },
};
</script>

<style scoped>
.expanded-search {
  width: 60vw;
  margin: 0 auto;
}

.button.is-dark {
  width: 10rem;
  margin: 0 auto;
}
</style>